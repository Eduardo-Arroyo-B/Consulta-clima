---
// Aquí se declara la función asíncrona (buscar término de asincronía) que permite llamar y extraer los datos de la API
const consultarApi = async () => {

    // try y catch es prueba y error, primero prueba que se ejecute la función y en el caso de que no lo haga se va a catch (parecido a if y else, pero no es un condicional)

    try {
        const url = "https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Tijuana/2024-03-06/2024-03-08?unitGroup=metric&key=Z65J38JK2UB3LYJZ5KC2K9FBN&contentType=json" // Este es el link de la API a la que vamos a conectar

        const response = await fetch(url) // Conectamos a la api para extraer el json

        if (!response.ok) {
            throw new Error('Error al consultar la API') // En el caso de que la respuesta no sea OK lanza un error
        }

        const result = await response.json() // Extrae los datos json de la API

        result.days.map( day => {
            console.log("Fecha:", day.datetime)
            console.log("Temperatura:", day.temp)
            console.log("Condiciones:", day.conditions)
        })

        return result; // Devolviendo los datos de la API

    } catch (error) {
        console.log("Error al consultar la API:", error) // Manda el error en la consola
        return null;
    }

}
consultarApi()
---

<section class="contenedor">
    <div class="item3">
        <h3>dia2</h3>
        <img src="/sun-solid.svg" style="height: 30px; width:30px;">
        <p>12`</p>
    </div>

    <div class="item4">
        <h3>dia2</h3>
        <img src="/sun-solid.svg" style="height: 50px; width:50px;">
        <p>12`</p>
    </div>

    <div class="item5">
        <h3>dia2</h3>
        <img src="/sun-solid.svg" style="height: 50px; width:50px;">
        <p>12`</p>
    </div>

    <div class="item6">
        <h3>dia2</h3>
        <img src="/sun-solid.svg" style="height: 50px; width:50px;">
        <p>12`</p>
    </div>

    <div class="item7">
        <h3>dia2</h3>
        <img src="/sun-solid.svg" style="height: 50px; width:50px;">
        <p>12`</p>
    </div>

    <div class="item8">
        <h3>dia2</h3>
        <img src="/sun-solid.svg" style="height: 50px; width:50px;">
        <p>12</p>
    </div>

</section>

<style>
    .contenedor {
        justify-content: space-between;
        width: 100%;
        display: grid;
        grid-template-columns: 500px repeat(5, 1fr);
        gap: 10px;
        background-color: #2196F3;
        padding: 10px;
    }
    

    .contenedor > div {
        background-color: rgba(255, 255, 255, 0.8);
        text-align: center;
    }


    img {
        width: 70px;
        height: 70px;
    }

    .item2 {
        display: flex;
        justify-content: center;
        align-items: center;
    }

</style>